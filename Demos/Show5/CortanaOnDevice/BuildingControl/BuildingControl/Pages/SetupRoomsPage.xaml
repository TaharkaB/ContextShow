<Page
    x:Class="BuildingControl.Pages.SetupRoomsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:BuildingControl.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    <Grid
        Background="DarkBlue">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition
                Height="8*" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition
                Width="6*" />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <Path
            Grid.Row="1"
            Grid.Column="1"
            Canvas.Left="0.478182"
            Canvas.Top="0"
            Stretch="Uniform"
            Fill="#FFFFFFFF"
            Data="M 659.081,287.344L 659.081,533.308C 659.081,548.333 651.904,561.989 640.357,571.901L 640.357,571.959C 628.837,581.86 612.909,588.011 595.368,588.011L 147.185,588.011C 129.649,588.011 113.722,581.86 102.174,571.959C 90.6385,562.047 83.4825,548.371 83.4825,533.308L 83.4825,287.344L 37.4558,287.344C 29.5972,287.344 22.2478,285.271 16.1438,281.584C 10.0558,277.896 5.3105,272.62 2.64917,266.213C 0.0238351,259.891 -0.178832,253.281 1.81583,247.115C 3.8265,240.923 7.98783,235.308 14.0652,231.047L 164.737,125.281L 321.149,15.4946C 335.857,5.17194 353.565,0 371.28,0C 388.988,0 406.674,5.17194 421.393,15.4946L 481.165,57.4373L 481.165,43.9586C 481.165,37.4225 484.264,31.4999 489.258,27.2093C 494.258,22.9225 501.17,20.2613 508.764,20.2613L 601.925,20.2613C 609.54,20.2613 616.456,22.9279 621.441,27.2093C 626.43,31.4893 629.534,37.4225 629.534,43.9586L 629.534,161.584L 728.488,231.043C 734.55,235.308 738.726,240.923 740.732,247.104C 742.737,253.265 742.534,259.88 739.893,266.209C 737.253,272.615 732.482,277.891 726.398,281.573C 720.305,285.265 712.956,287.333 705.097,287.333L 659.081,287.333M 627.389,533.303L 627.389,277.365C 627.389,272.667 629.649,268.365 633.31,265.219L 633.28,265.193C 636.904,262.084 641.925,260.152 647.456,260.152L 705.108,260.152C 706.332,260.152 707.409,259.871 708.222,259.38C 709.04,258.891 709.696,258.136 710.092,257.193C 710.513,256.167 710.57,255.177 710.289,254.344C 710.045,253.557 709.42,252.765 708.436,252.095L 605.232,179.641L 605.248,179.62C 602.898,177.953 601.06,175.943 599.805,173.667C 598.529,171.344 597.862,168.88 597.862,166.323L 597.862,47.4799L 512.837,47.4799L 512.837,78.4745C 512.837,81.7653 511.742,84.9119 509.722,87.652C 507.685,90.4066 504.852,92.6199 501.384,94.0266L 501.326,94.0266C 497.789,95.4693 494.018,95.9693 490.341,95.584L 490.341,95.5786C 486.665,95.1932 483.133,93.9119 480.144,91.8079L 480.086,91.8079L 401.357,36.5519C 392.498,30.3333 381.868,27.2186 371.28,27.2186C 360.685,27.2186 350.056,30.3333 341.196,36.5519L 184.789,146.323L 34.1172,252.084C 33.1545,252.761 32.5185,253.547 32.2638,254.339C 31.9985,255.172 32.0558,256.156 32.4772,257.183C 32.8678,258.131 33.5292,258.88 34.3412,259.376C 35.1545,259.865 36.2225,260.141 37.4558,260.141L 95.1025,260.141C 100.638,260.141 105.665,262.073 109.284,265.183C 112.909,268.297 115.165,272.609 115.165,277.36L 115.165,533.303C 115.165,540.855 118.774,547.719 124.581,552.709C 130.389,557.704 138.398,560.803 147.185,560.803L 595.368,560.803C 604.154,560.803 612.16,557.704 617.972,552.709L 617.998,552.735C 623.784,547.761 627.389,540.876 627.389,533.303 Z " />
        <Grid
            Grid.Row="1"
            Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition
                    Height="*" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition
                    Width="3*" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <StackPanel
                Orientation="Vertical"
                VerticalAlignment="Center"
                Grid.Row="1"
                Grid.Column="1">
                <TextBlock
                    TextAlignment="Center"
                    Text="add rooms"
                    FontSize="48" />
                <Viewbox
                    Width="96"
                    HorizontalAlignment="Center">
                    <Button
                        Template="{x:Null}"
                        Margin="12">
                        <Grid>
                            <Ellipse
                                Stroke="White" />
                            <SymbolIcon
                                Margin="8"
                                Symbol="Add" />
                        </Grid>
                        <Button.Flyout>
                            <Flyout
                                Placement="Bottom">
                                <Grid
                                    Background="Black">
                                    <StackPanel
                                        Orientation="Horizontal">
                                        <ComboBox
                                            Width="192"
                                            FontSize="18"
                                            VerticalAlignment="Center"
                                            SelectedItem="{Binding SelectedRoomType,Mode=TwoWay}"
                                            ItemsSource="{Binding RoomTypes}">
                                            <ComboBox.ItemTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition
                                                                Width="*" />
                                                            <ColumnDefinition
                                                                Width="3*" />
                                                        </Grid.ColumnDefinitions>
                                                        <Image
                                                            Width="24"
                                                            Height="24"
                                                            Source="{Binding Converter={StaticResource roomTypeConverter}}" />
                                                        <TextBlock
                                                            Grid.Column="1"
                                                            Text="{Binding}" />
                                                    </Grid>
                                                </DataTemplate>
                                            </ComboBox.ItemTemplate>
                                        </ComboBox>
                                        <Button
                                            Margin="4"
                                            Click="OnAddRoom">
                                            <SymbolIcon
                                                Symbol="Add" />
                                        </Button>
                                    </StackPanel>
                                </Grid>
                            </Flyout>
                        </Button.Flyout>
                    </Button>
                </Viewbox>
            </StackPanel>
            <ListView
                ScrollViewer.HorizontalScrollBarVisibility="Auto"
                ScrollViewer.HorizontalScrollMode="Auto"
                ItemsSource="{Binding Rooms}"
                SelectionMode="Single"
                SelectedItem="{Binding SelectedRoom,Mode=TwoWay}"
                Margin="96,0,96,0"
                Grid.Row="2"
                Grid.Column="1"
                VerticalAlignment="Top"
                HorizontalAlignment="Stretch">
                <ListView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel
                            ScrollViewer.HorizontalScrollBarVisibility="Auto"
                            ScrollViewer.HorizontalScrollMode="Auto"
                            Orientation="Horizontal" />
                    </ItemsPanelTemplate>
                </ListView.ItemsPanel>
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition
                                    Width="48" />
                                <ColumnDefinition
                                    Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Image
                                Grid.Column="0"
                                VerticalAlignment="Bottom"
                                HorizontalAlignment="Left"
                                Source="{Binding RoomType,Converter={StaticResource roomTypeConverter}}"/>
                            <Grid
                                Grid.Column="1"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Width="96"
                                Height="96">
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <Viewbox
                                    Grid.RowSpan="2">
                                    <TextBlock
                                        Text="{Binding Count}" />
                                </Viewbox>
                                <Viewbox
                                    Grid.Column="1">
                                    <Button
                                        Click="OnIncrementRooms">
                                        <SymbolIcon
                                            Symbol="Add"
                                            Margin="2" />
                                    </Button>
                                </Viewbox>
                                <Viewbox
                                    Grid.Column="1"
                                    Grid.Row="1">
                                    <Button
                                        Click="OnDecrementRooms">
                                        <SymbolIcon
                                            Symbol="Remove"
                                            Margin="2" />
                                    </Button>
                                </Viewbox>
                            </Grid>
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Grid>

        <Button
            Width="96"
            Height="96"
            Grid.Row="1"
            Grid.Column="1"
            HorizontalAlignment="Right"
            VerticalAlignment="Bottom"
            Click="OnDone"
            Margin="16">
            <Viewbox>
                <SymbolIcon
                Symbol="Forward" />
            </Viewbox>
        </Button>
    </Grid>
</Page>
