<Page
    x:Class="BuildingControl.Pages.MonitorPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:BuildingControl.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:c="using:BuildingControl.Controls"
    mc:Ignorable="d">

    <Grid
        Background="DarkBlue">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition
                Height="8*" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition
                Width="6*" />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <Path
            Grid.Row="1"
            Grid.Column="1"
            Canvas.Left="0.478182"
            Canvas.Top="0"
            Stretch="Uniform"
            Fill="#FFFFFFFF"
            Data="M 659.081,287.344L 659.081,533.308C 659.081,548.333 651.904,561.989 640.357,571.901L 640.357,571.959C 628.837,581.86 612.909,588.011 595.368,588.011L 147.185,588.011C 129.649,588.011 113.722,581.86 102.174,571.959C 90.6385,562.047 83.4825,548.371 83.4825,533.308L 83.4825,287.344L 37.4558,287.344C 29.5972,287.344 22.2478,285.271 16.1438,281.584C 10.0558,277.896 5.3105,272.62 2.64917,266.213C 0.0238351,259.891 -0.178832,253.281 1.81583,247.115C 3.8265,240.923 7.98783,235.308 14.0652,231.047L 164.737,125.281L 321.149,15.4946C 335.857,5.17194 353.565,0 371.28,0C 388.988,0 406.674,5.17194 421.393,15.4946L 481.165,57.4373L 481.165,43.9586C 481.165,37.4225 484.264,31.4999 489.258,27.2093C 494.258,22.9225 501.17,20.2613 508.764,20.2613L 601.925,20.2613C 609.54,20.2613 616.456,22.9279 621.441,27.2093C 626.43,31.4893 629.534,37.4225 629.534,43.9586L 629.534,161.584L 728.488,231.043C 734.55,235.308 738.726,240.923 740.732,247.104C 742.737,253.265 742.534,259.88 739.893,266.209C 737.253,272.615 732.482,277.891 726.398,281.573C 720.305,285.265 712.956,287.333 705.097,287.333L 659.081,287.333M 627.389,533.303L 627.389,277.365C 627.389,272.667 629.649,268.365 633.31,265.219L 633.28,265.193C 636.904,262.084 641.925,260.152 647.456,260.152L 705.108,260.152C 706.332,260.152 707.409,259.871 708.222,259.38C 709.04,258.891 709.696,258.136 710.092,257.193C 710.513,256.167 710.57,255.177 710.289,254.344C 710.045,253.557 709.42,252.765 708.436,252.095L 605.232,179.641L 605.248,179.62C 602.898,177.953 601.06,175.943 599.805,173.667C 598.529,171.344 597.862,168.88 597.862,166.323L 597.862,47.4799L 512.837,47.4799L 512.837,78.4745C 512.837,81.7653 511.742,84.9119 509.722,87.652C 507.685,90.4066 504.852,92.6199 501.384,94.0266L 501.326,94.0266C 497.789,95.4693 494.018,95.9693 490.341,95.584L 490.341,95.5786C 486.665,95.1932 483.133,93.9119 480.144,91.8079L 480.086,91.8079L 401.357,36.5519C 392.498,30.3333 381.868,27.2186 371.28,27.2186C 360.685,27.2186 350.056,30.3333 341.196,36.5519L 184.789,146.323L 34.1172,252.084C 33.1545,252.761 32.5185,253.547 32.2638,254.339C 31.9985,255.172 32.0558,256.156 32.4772,257.183C 32.8678,258.131 33.5292,258.88 34.3412,259.376C 35.1545,259.865 36.2225,260.141 37.4558,260.141L 95.1025,260.141C 100.638,260.141 105.665,262.073 109.284,265.183C 112.909,268.297 115.165,272.609 115.165,277.36L 115.165,533.303C 115.165,540.855 118.774,547.719 124.581,552.709C 130.389,557.704 138.398,560.803 147.185,560.803L 595.368,560.803C 604.154,560.803 612.16,557.704 617.972,552.709L 617.998,552.735C 623.784,547.761 627.389,540.876 627.389,533.303 Z " />
        <Grid
            Grid.Row="1"
            Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
                <RowDefinition
                    Height="0.2*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition
                    Width="1.5*" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <TextBlock
                FontSize="48"
                Grid.Row="0"
                VerticalAlignment="Bottom"
                Margin="8"
                Grid.Column="1"
                Text="{Binding Building.Name}"
                TextAlignment="Center" />
            <GridView
                Grid.Row="1"
                Grid.Column="1"
                SelectionMode="None"
                ItemsSource="{Binding Building.Rooms}">
                <GridView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <ItemsWrapGrid
                            Orientation="Horizontal"
                            MaximumRowsOrColumns="2" />
                    </ItemsPanelTemplate>
                </GridView.ItemsPanel>
                <GridView.ItemTemplate>
                    <DataTemplate>
                        <Border
                            BorderBrush="White"
                            BorderThickness="1"
                            Padding="4"
                            Margin="4">
                            <Grid
                                Width="120"
                                Height="120">
                                <ItemsControl
                                    VerticalAlignment="Top"
                                    HorizontalAlignment="Center"
                                    ItemsSource="{Binding Lights}">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <StackPanel
                                                Orientation="Horizontal" />
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <!-- Sorry for the hack using Tag here, I should make viewmodels -->
                                            <c:LightBulb
                                                Tag="{Binding}"
                                                PointerPressed="OnUILightBulbPressed"
                                                Width="28"
                                                Margin="2,0,0,0"
                                                IsOn="{Binding IsOn,Mode=TwoWay}" />
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                                <Image
                                    Width="48"
                                    Height="48"
                                    VerticalAlignment="Bottom"
                                    HorizontalAlignment="Left"
                                    Source="{Binding RoomType,Converter={StaticResource roomTypeConverter}}" />
                                <StackPanel
                                    VerticalAlignment="Bottom"
                                    HorizontalAlignment="Right">
                            
                                    <StackPanel
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Bottom"
                                        Orientation="Horizontal">
                                        <Button
                                            Margin="2"
                                            Click="OnUISwitchRoomOn"
                                            Tag="{Binding}">
                                            <Path
                                                Width="9.35"
                                                Height="17"
                                                Stretch="Uniform"
                                                Fill="#FFFFFF00"
                                                Data="F1 M 93.948,340.724C 68.8533,340.724 45.2653,330.948 27.516,313.204C 9.76,295.459 -0.0053335,271.865 -2.38419e-007,246.771C -2.38419e-007,218.604 12.4533,192.256 34.2027,174.319L 34.5413,173.975C 56.276,153.485 68.244,125.828 68.244,96.0946L 68.192,95.224L 68.1093,93.7293C 68.0627,91.8133 68.792,89.964 70.1253,88.5946C 71.4587,87.2239 73.292,86.4533 75.208,86.4533L 86.8493,86.4533L 86.8493,7.09863C 86.8493,3.18262 90.0307,0 93.948,0C 97.8747,0 101.047,3.18262 101.047,7.09863L 101.047,86.4533L 112.724,86.4533C 114.645,86.4533 116.484,87.2346 117.828,88.62C 119.161,89.9946 119.88,91.86 119.812,93.7866L 119.672,96.084C 119.672,125.808 131.645,153.469 153.391,173.995L 153.609,174.219C 175.416,192.161 187.901,218.552 187.901,246.761C 187.901,298.584 145.76,340.724 93.948,340.724 Z M 44.9067,183.709C 44.5987,184.089 44.2493,184.448 43.8693,184.745C 25.0107,199.985 14.1973,222.595 14.1973,246.761C 14.192,268.068 22.4787,288.089 37.5573,303.161C 52.62,318.229 72.6507,326.527 93.948,326.527C 137.921,326.527 173.703,290.745 173.703,246.771C 173.703,222.599 162.901,199.989 144.047,184.751C 143.687,184.459 143.359,184.141 143.077,183.792C 119.921,161.672 106.708,132.328 105.552,100.661L 82.3493,100.661C 81.1973,132.308 68.0107,161.625 44.9067,183.709 Z " />
                                        </Button>
                                        <Button
                                            Margin="2"
                                            Click="OnUISwitchRoomOff"
                                            Tag="{Binding}">
                                            <Path
                                                Width="9.35"
                                                Height="17"
                                                Stretch="Uniform"
                                                Fill="#FF000000"
                                                Data="F1 M 93.948,340.724C 68.8533,340.724 45.2653,330.948 27.516,313.204C 9.76,295.459 -0.0053335,271.865 -2.38419e-007,246.771C -2.38419e-007,218.604 12.4533,192.256 34.2027,174.319L 34.5413,173.975C 56.276,153.485 68.244,125.828 68.244,96.0946L 68.192,95.224L 68.1093,93.7293C 68.0627,91.8133 68.792,89.964 70.1253,88.5946C 71.4587,87.2239 73.292,86.4533 75.208,86.4533L 86.8493,86.4533L 86.8493,7.09863C 86.8493,3.18262 90.0307,0 93.948,0C 97.8747,0 101.047,3.18262 101.047,7.09863L 101.047,86.4533L 112.724,86.4533C 114.645,86.4533 116.484,87.2346 117.828,88.62C 119.161,89.9946 119.88,91.86 119.812,93.7866L 119.672,96.084C 119.672,125.808 131.645,153.469 153.391,173.995L 153.609,174.219C 175.416,192.161 187.901,218.552 187.901,246.761C 187.901,298.584 145.76,340.724 93.948,340.724 Z M 44.9067,183.709C 44.5987,184.089 44.2493,184.448 43.8693,184.745C 25.0107,199.985 14.1973,222.595 14.1973,246.761C 14.192,268.068 22.4787,288.089 37.5573,303.161C 52.62,318.229 72.6507,326.527 93.948,326.527C 137.921,326.527 173.703,290.745 173.703,246.771C 173.703,222.599 162.901,199.989 144.047,184.751C 143.687,184.459 143.359,184.141 143.077,183.792C 119.921,161.672 106.708,132.328 105.552,100.661L 82.3493,100.661C 81.1973,132.308 68.0107,161.625 44.9067,183.709 Z " />
                                        </Button>
                                    </StackPanel>
                                    <TextBlock
                                        FontSize="18"
                                        VerticalAlignment="Bottom"
                                        HorizontalAlignment="Right"
                                        Text="{Binding RoomType}" />
                                </StackPanel>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </GridView.ItemTemplate>
            </GridView>
            <StackPanel
                Grid.Row="1"
                Grid.Column="1"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                Orientation="Horizontal">
                <Button
                    Margin="4"
                    Click="OnUISwitchBuildingOn">
                    <Path
                        Width="18.7"
                        Height="34"
                        Stretch="Uniform"
                        Fill="#FFFFFF00"
                        Data="F1 M 93.948,340.724C 68.8533,340.724 45.2653,330.948 27.516,313.204C 9.76,295.459 -0.0053335,271.865 -2.38419e-007,246.771C -2.38419e-007,218.604 12.4533,192.256 34.2027,174.319L 34.5413,173.975C 56.276,153.485 68.244,125.828 68.244,96.0946L 68.192,95.224L 68.1093,93.7293C 68.0627,91.8133 68.792,89.964 70.1253,88.5946C 71.4587,87.2239 73.292,86.4533 75.208,86.4533L 86.8493,86.4533L 86.8493,7.09863C 86.8493,3.18262 90.0307,0 93.948,0C 97.8747,0 101.047,3.18262 101.047,7.09863L 101.047,86.4533L 112.724,86.4533C 114.645,86.4533 116.484,87.2346 117.828,88.62C 119.161,89.9946 119.88,91.86 119.812,93.7866L 119.672,96.084C 119.672,125.808 131.645,153.469 153.391,173.995L 153.609,174.219C 175.416,192.161 187.901,218.552 187.901,246.761C 187.901,298.584 145.76,340.724 93.948,340.724 Z M 44.9067,183.709C 44.5987,184.089 44.2493,184.448 43.8693,184.745C 25.0107,199.985 14.1973,222.595 14.1973,246.761C 14.192,268.068 22.4787,288.089 37.5573,303.161C 52.62,318.229 72.6507,326.527 93.948,326.527C 137.921,326.527 173.703,290.745 173.703,246.771C 173.703,222.599 162.901,199.989 144.047,184.751C 143.687,184.459 143.359,184.141 143.077,183.792C 119.921,161.672 106.708,132.328 105.552,100.661L 82.3493,100.661C 81.1973,132.308 68.0107,161.625 44.9067,183.709 Z " />
                </Button>
                <Button
                    Margin="4"
                    Click="OnUISwitchBuildingOff">
                    <Path
                        Width="18.7"
                        Height="34"
                        Stretch="Uniform"
                        Fill="#FF000000"
                        Data="F1 M 93.948,340.724C 68.8533,340.724 45.2653,330.948 27.516,313.204C 9.76,295.459 -0.0053335,271.865 -2.38419e-007,246.771C -2.38419e-007,218.604 12.4533,192.256 34.2027,174.319L 34.5413,173.975C 56.276,153.485 68.244,125.828 68.244,96.0946L 68.192,95.224L 68.1093,93.7293C 68.0627,91.8133 68.792,89.964 70.1253,88.5946C 71.4587,87.2239 73.292,86.4533 75.208,86.4533L 86.8493,86.4533L 86.8493,7.09863C 86.8493,3.18262 90.0307,0 93.948,0C 97.8747,0 101.047,3.18262 101.047,7.09863L 101.047,86.4533L 112.724,86.4533C 114.645,86.4533 116.484,87.2346 117.828,88.62C 119.161,89.9946 119.88,91.86 119.812,93.7866L 119.672,96.084C 119.672,125.808 131.645,153.469 153.391,173.995L 153.609,174.219C 175.416,192.161 187.901,218.552 187.901,246.761C 187.901,298.584 145.76,340.724 93.948,340.724 Z M 44.9067,183.709C 44.5987,184.089 44.2493,184.448 43.8693,184.745C 25.0107,199.985 14.1973,222.595 14.1973,246.761C 14.192,268.068 22.4787,288.089 37.5573,303.161C 52.62,318.229 72.6507,326.527 93.948,326.527C 137.921,326.527 173.703,290.745 173.703,246.771C 173.703,222.599 162.901,199.989 144.047,184.751C 143.687,184.459 143.359,184.141 143.077,183.792C 119.921,161.672 106.708,132.328 105.552,100.661L 82.3493,100.661C 81.1973,132.308 68.0107,161.625 44.9067,183.709 Z " />
                </Button>
            </StackPanel>
        </Grid>
        <StackPanel
            Grid.RowSpan="3"
            Grid.ColumnSpan="3"
            HorizontalAlignment="Right"
            VerticalAlignment="Bottom"
            Margin="16">
            <ListView
                Header="Other Buildings"
                ItemsSource="{Binding RemoteBuildings}"
                x:Name="lstOtherBuildings"
                Height="284">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock
                            Text="{Binding}" />
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
            <StackPanel
                Orientation="Horizontal">
                <Button
                    Content="Switch"
                    Click="OnUISwitchToRemoteBuilding" />
                <Button
                    Content="Home" 
                    Click="OnUISwitchToLocalBuilding"/>
            </StackPanel>
        </StackPanel>     
    </Grid>
</Page>
